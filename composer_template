{% set swapps_plugins = ['ncarb-centennial-core', 'theme-amp-swapps'] %}
{
    "repositories":[
        {
            "type":"composer",
            "url":"https://wpackagist.org"
        },
        {
          "type": "vcs",
          "url": "git@github.com:swappsco/ncarb-centennial-core.git"
        },
        {
          "type": "vcs",
          "url": "git@github.com:swappsco/theme-amp-swapps.git"
        },
        {
            "type": "package",
            "package": {
                "name": "sw-simple-slider",
                "version": "0.2.11",
                "source": {
                    "url": "git@github.com:swappsco/sw-simple-slider.git",
                    "type": "git",
                    "reference": "0.2.11"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "woocommerce-tu-compra",
                "version": "0.1.6",
                "source": {
                    "url": "git@github.com:swappsco/wp-woocommerce-tu-compra.git",
                    "type": "git",
                    "reference": "0.1.6"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "woocommerce-payu",
                "version": "0.1.0",
                "source": {
                    "url": "git@github.com:swappsco/woocommerce-payu.git",
                    "type": "git",
                    "reference": "master"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "wp-swappsio",
                "version": "0.0.1",
                "source": {
                    "url": "git@github.com:swappsco/wp-swappsio.git",
                    "type": "git",
                    "reference": "master"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "wp-accountant",
                "version": "0.1.5",
                "source": {
                    "url": "git@github.com:swappsco/wp-accountant.git",
                    "type": "git",
                    "reference": "0.1.5"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "sw-customizer",
                "version": "0.3.11",
                "source": {
                    "url": "git@github.com:swappsco/sw-customizer.git",
                    "type": "git",
                    "reference": "0.3.11"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wp-plugin-swapps",
                "version": "0.1.12",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-swapps.git",
                    "type": "git",
                    "reference": "0.1.12"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "bb-ultimate-addon",
                "version": "1.16.2",
                "source": {
                    "url": "git@github.com:swappsco/bb-ultimate-addon.git",
                    "type": "git",
                    "reference": "1.16.2"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "domus-wp",
                "version": "1.0.0",
                "source": {
                    "url": "git@github.com:swappsco/domus-wp.git",
                    "type": "git",
                    "reference": "1.0.0"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wp-dors",
                "version": "0.1.5",
                "source": {
                    "url": "git@github.com:swappsco/wp-dors.git",
                    "type": "git",
                    "reference": "0.1.5"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "advanced-custom-fields-pro",
                "version": "5.7.13",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-advanced-custom-fields-pro.git",
                    "type": "git",
                    "reference": "5.7.13"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "sitepress-multilingual-cms",
                "version": "4.2.4.1",
                "source": {
                    "url": "git@github.com:swappsco/sitepress-multilingual-cms.git",
                    "type": "git",
                    "reference": "4.2.4.1"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wpml-string-translation",
                "version": "2.10.2",
                "source": {
                    "url": "git@github.com:swappsco/wpml-string-translation.git",
                    "type": "git",
                    "reference": "2.10.2"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wpml-translation-management",
                "version": "2.8.3",
                "source": {
                    "url": "git@github.com:swappsco/wpml-translation-management.git",
                    "type": "git",
                    "reference": "2.8.3"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "restrict-content-pro",
                "version": "3.0.4",
                "source": {
                    "url": "git@github.com:swappsco/restrict-content-pro.git",
                    "type": "git",
                    "reference": "3.0.4"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wp-plugin-media-library-plus-pro",
                "version": "4.4.1",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-media-library-plus-pro.git",
                    "type": "git",
                    "reference": "4.4.1"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "flexi-pages-widget",
                "version": "1.7.4",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-flexi-pages-widget.git",
                    "type": "git",
                    "reference": "1.7.4"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "formidable-pro",
                "version": "3.06.02",
                "source": {
                    "url": "git@github.com:swappsco/formidable.git",
                    "type": "git",
                    "reference": "3.06.02"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wpforo-embeds",
                "version": "1.3.1",
                "source": {
                    "url": "git@github.com:swappsco/wpforo-embeds.git",
                    "type": "git",
                    "reference": "1.3.1"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wpforo-private-messages",
                "version": "1.2.1",
                "source": {
                    "url": "git@github.com:swappsco/wpforo-embeds.git",
                    "type": "git",
                    "reference": "1.2.1"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "wpforo-ad-manager",
                "version": "1.0.8",
                "source": {
                    "url": "git@github.com:swappsco/wpforo-embeds.git",
                    "type": "git",
                    "reference": "1.0.8"
                }
            }
        },
        {
            "type": "package",
            "package": {
                "name": "formidable-bootstrap",
                "version": "1.02.02",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-formidable-bootstrap.git",
                    "type": "git",
                    "reference": "1.02.02"
                }
            }
        },
{## bb-plugin PRO - Standard pro version ##}
{% for package_version in ["2.1.5.1"] %}
        {
            "type": "package",
            "package": {
                "name": "bb-plugin-pro",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/bb-plugin.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{## bb-plugin PRO - Swapps Agency PRO version ##}
{% for package_version in ["2.2.1.4"] %}
        {
            "type": "package",
            "package": {
                "name": "bb-plugin",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/bb-plugin.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["7.5.1"] %}
        {
            "type": "package",
            "package":
            {
                "name": "wordpress-seo-premium",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/wp-plugin-wordpress-seo-premium.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["0.0.3"] %}
        {
            "type": "package",
            "package":
            {
                "name": "wpml-mailchimp-for-wp",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/wpml-mailchimp-for-wp.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["3.2.7"] %}
        {
            "type": "package",
            "package":
            {
                "name": "types",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/types.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["2.6"] %}
        {
            "type": "package",
            "package":
            {
                "name": "wp-views",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/wp-views.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["3.43.1"] %}
        {
            "type": "package",
            "package":
            {
                "name": "fg-joomla-to-wordpress-premium",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/fg-joomla-to-wordpress-premium.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["2.5.0"] %}
        {
            "type": "package",
            "package":
            {
                "name": "fg-joomla-to-wordpress-premium-wpml-module",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/fg-joomla-to-wordpress-premium-wpml-module.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["2.15.0"] %}
        {
            "type": "package",
            "package":
            {
                "name": "fg-joomla-to-wordpress-premium-k2-module",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/fg-joomla-to-wordpress-premium-k2-module.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["1.7.2"] %}
        {
            "type": "package",
            "package": {
                "name": "bb-theme",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/bb-theme.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["1.2.2.1"] %}
        {
            "type": "package",
            "package": {
                "name": "bb-theme-builder",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/bb-theme-builder.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}
{% for package_version in ["1.2.2"] %}
        {
            "type": "package",
            "package":
            {
                "name": "swapps",
                "version": "{{ package_version }}",
                "source": {
                    "url": "git@github.com:swappsco/swapps-theme.git",
                    "type": "git",
                    "reference": "{{ package_version }}"
                }
            }

        },
{% endfor %}

{% if extra_theme_info is defined %}
        {
            "type": "package",
            "package": {
                "name": "{{ extra_theme_info.name }}",
                "version": "{{ extra_theme_info.version }}",
                "source": {
                    "url": "{{ extra_theme_info.git_url }}",
                    "type": "git",
                    "reference": "{{ extra_theme_info.reference }}"
                }
            }

        },
{% endif %}
        {
            "type": "package",
            "package": {
                "name": "duenio-django-integration",
                "version": "0.2.1",
                "source": {
                    "url": "git@github.com:swappsco/duenio-django-integration.git",
                    "type": "git",
                    "reference": "0.2.1"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "wp-relatos-anfibios-core",
                "version": "0.0.1",
                "source": {
                    "url": "git@github.com:swappsco/wp-relatos-anfibios-core.git",
                    "type": "git",
                    "reference": "master"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "woocommerce-bulk-variations",
                "version": "1.6.3",
                "source": {
                    "url": "git@github.com:swappsco/woocommerce-bulk-variations.git",
                    "type": "git",
                    "reference": "1.6.3"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "beaver-tunnels",
                "version": "2.1.6",
                "source": {
                    "url": "git@github.com:swappsco/beaver-tunnels.git",
                    "type": "git",
                    "reference": "2.1.6"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "woocommerce-checkout-field-editor",
                "version": "1.5.13",
                "source": {
                    "url": "git@github.com:swappsco/woocommerce-checkout-field-editor.git",
                    "type": "git",
                    "reference": "1.5.13"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "wp-rocket",
                "version": "3.3",
                "source": {
                    "url": "git@github.com:swappsco/wp-rocket.git",
                    "type": "git",
                    "reference": "3.3"
                }
            }

        },
        {
            "type": "package",
            "package": {
                "name": "wp-rocket-compat-varnish-ip",
                "version": "0.1.1",
                "source": {
                    "url": "git@github.com:swappsco/wp-rocket-compat-varnish-ip.git",
                    "type": "git",
                    "reference": "0.1.1"
                }
            }

        }
    ],
    "require": {
        "vlucas/phpdotenv": "2.4",
        "cocur/slugify": "^2.4",
        "sentry/sentry": "^1.9",
        "wpackagist-plugin/smtp-mailer": "~1.0",
        "wpackagist-plugin/google-tag-manager": "^1.0",
        "wpackagist-plugin/floating-publish-button": "~1.0.6",
        "wpackagist-plugin/nav-menu-images": "~3.4",
        "wpackagist-plugin/wordpress-importer": "~0.6",
        "wp-plugin-swapps": "0.1.12",
        {% if wp_blog_enabled is defined and not wp_blog_enabled|bool %}
        "wpackagist-plugin/disable-blogging": "~2.0.4",
        {% endif %}
        "oomphinc/composer-installers-extender": "^1.1"
        {% if plan_data['plugins'] is defined %}
            {% for i in plan_data['plugins'] %}
              {% for j in supported_plugins %}
                {% if i in j %}
                  {% for k in j[i] %}
                    {% for key, value in k.items() %}
                    {% if key in swapps_plugins %}
                    , "swappsco/{{ key }}": "dev-{{ repo_tag }}"
                    {% else %}
                    , "{{ key }}": "{{ value}}"
                    {% endif %}
                    {% endfor %}
                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% endfor%}
        {% endif %}
        {% if plan_data['mu_plugins'] is defined %}
            {% for i in plan_data['mu_plugins'] %}
              {% for j in supported_plugins %}
                {% if i in j %}
                  {% for k in j[i] %}
                    {% for key, value in k.items() %}
                      , "{{ key }}": "{{ value}}"
                    {% endfor %}
                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% endfor%}
        {% endif %}
        {% if extra_theme_info is defined %}
        , "{{ extra_theme_info.name }}": "{{ extra_theme_info.version }}"
        {% endif %}
        {% if plan_data['themes'] is defined %}
            {% for i in plan_data['themes'] %}
              {% for j in supported_plugins %}
                {% if i in j %}
                  {% for k in j[i] %}
                    {% for key, value in k.items() %}
                      , "{{ key }}": "{{ value}}"
                    {% endfor %}
                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% endfor%}
        {% else %}
            , "swapps":"^1.2"
        {% endif %}
    },
    "extra" : {
        "installer-types": ["library"],
        "installer-paths": {
            "wp-content/themes/{$name}/": [
                "swapps"
                {% if extra_theme_info is defined %}
                , "{{ extra_theme_info.name }}"
                {% endif %}
                {% if plan_data['themes'] is defined %}
                {% for i in plan_data['themes'] %}
                  {% for j in supported_plugins %}
                    {% if i in j %}
                      {% for k in j[i] %}
                        {% for key, value in k.items() %}
                          , "{{ key }}"
                        {% endfor %}
                      {% endfor %}
                    {% endif %}
                  {% endfor %}
                {% endfor%}
                {% endif %}
            ],
            "wp-content/mu-plugins/{$name}/": [
            "wp-plugin-swapps"
            {% if plan_data['mu_plugins'] is defined %}
              {% for i in plan_data['mu_plugins'] %}
            {% for i in plan_data['mu_plugins'] %}
              {% for j in supported_plugins %}
                {% if i in j %}
                  {% for k in j[i] %}
                    {% for key, value in k.items() %}
                      , "{{ key }}",
                    {% endfor %}
                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% endfor%}
                {% if i in supported_plugins %}
                  {% for key, value in supported_plugins[i].items() %}
                  , "{{ key }}"
                  {% endfor %}
                {% endif %}
              {% endfor%}
            {% endif %}
            ],
            "wp-content/plugins/{$name}/": [
            "wp-dummy-plugin",
            "advanced-custom-fields-pro",
            "flexi-pages-widget",
            {% if wp_blog_enabled is defined and not wp_blog_enabled|bool %}
            "wpackagist-plugin/disable-blogging",
            {% endif %}
            "wpackagist-plugin/acf-link-picker-field",
            "wpackagist-plugin/advanced-custom-fields-font-awesome",
            "wpackagist-plugin/acf-image-crop-add-on",
            "wpackagist-plugin/coming-soon",
            "wpackagist-plugin/floating-publish-button",
            "wpackagist-plugin/smtp-mailer",
            "wpackagist-plugin/wordpress-importer",
            "sw-customizer",
            "wpackagist-plugin/wordpress-seo"
            {% if plan_data['plugins'] is defined %}
            {% for i in plan_data['plugins'] %}
              {% for j in supported_plugins %}
                {% if i in j %}
                  {% for k in j[i] %}
                    {% for key, value in k.items() %}
                    {% if key in swapps_plugins %}
                    , "swappsco/{{ key }}"
                    {% else %}
                    , "{{ key }}"
                    {% endif %}
                    {% endfor %}
                  {% endfor %}
                {% endif %}
              {% endfor %}
            {% endfor%}
            {% endif %}
            ]
        }
    }
}
